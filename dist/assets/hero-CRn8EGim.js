import{l as h,r as a,c as s}from"./index-boeohUY1.js";import{b as H,A as S}from"./LoadingSpinner-CUwXWg4D.js";const y={head:"Head",shoulders:"Shoulders",neck:"Amulet",torso:"Chest",hands:"Gloves",waist:"Belt",wrists:"Bracers",legs:"Pants",feet:"Boots",leftFinger:"Left Ring",rightFinger:"Right Ring",mainHand:"Main Hand",offHand:"Off Hand"},u=["head","shoulders","neck","torso","hands","waist","wrists","legs","feet","leftFinger","rightFinger","mainHand","offHand"],F=h("hero",()=>{const e=a(null),l=a(!1),r=a(null),o=a(null),i=s(()=>e.value?e.value.items:{}),f=s(()=>e.value?e.value.legendaryGems:[]),c=s(()=>{if(!e.value)return new Map;const t=new Map;for(const n of Object.values(e.value.items))n.setName&&t.set(n.setName,(t.get(n.setName)||0)+1);return t}),d=s(()=>e.value?u.filter(t=>!e.value.items[t]):u);async function v(t){l.value=!0,r.value=null;try{return e.value=await H.getFullHero(t),o.value=new Date,!0}catch(n){return n instanceof S?r.value=n.message:r.value="Failed to load hero",!1}finally{l.value=!1}}function m(){e.value=null,o.value=null,r.value=null}function g(t){return e.value?.items[t]}return{currentHero:e,isLoading:l,error:r,lastFetched:o,equippedItems:i,legendaryGems:f,activeSetBonuses:c,emptySlots:d,loadHero:v,clearHero:m,getItemBySlot:g}});export{y as S,F as u};
