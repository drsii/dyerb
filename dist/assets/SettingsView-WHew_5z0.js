import{d as S,u as U,r as n,c as D,a as c,w as B,b as e,e as h,f as o,v as g,g as y,h as A,t as v,i as K,n as P,o as f,_ as I,j as V,k as _}from"./index-cdzsqRmw.js";const T={class:"form-group"},E={class:"form-group"},R={class:"input-with-toggle"},$=["type"],L={class:"form-group"},N={key:0,class:"form-error"},M={class:"form-group"},z={class:"form-group"},F={class:"form-group"},W={class:"input-with-toggle"},q=["type"],G={class:"form-actions"},O=["disabled"],Y=S({__name:"ApiKeyForm",setup(k){const s=U(),a=n({clientId:s.clientId,clientSecret:s.clientSecret,region:s.region,battletag:s.battletag,proxyUrl:s.proxyUrl,claudeApiKey:s.claudeApiKey}),i=n(!1),r=n(!1),u=n(!1),l=n(""),m=D(()=>a.value.clientId.trim()!==""&&a.value.clientSecret.trim()!==""&&a.value.battletag.trim()!==""&&b(a.value.battletag));function b(p){return/^[a-zA-Z][a-zA-Z0-9]{2,11}[#\-]\d{4,8}$/.test(p)}async function w(){if(m.value){u.value=!0,l.value="";try{s.updateSettings({clientId:a.value.clientId.trim(),clientSecret:a.value.clientSecret.trim(),region:a.value.region,battletag:a.value.battletag.trim(),proxyUrl:a.value.proxyUrl.trim(),claudeApiKey:a.value.claudeApiKey.trim()}),l.value="Settings saved successfully!",setTimeout(()=>{l.value=""},3e3)}catch(p){l.value="Failed to save settings",console.error("Save error:",p)}finally{u.value=!1}}}function C(){confirm("Are you sure you want to clear all settings?")&&(s.clearSettings(),a.value={clientId:"",clientSecret:"",region:"us",battletag:"",proxyUrl:s.proxyUrl,claudeApiKey:""})}function x(){confirm(`‚ö†Ô∏è This will permanently delete ALL local data including:

‚Ä¢ API keys and credentials
‚Ä¢ Saved reports
‚Ä¢ Cached data
‚Ä¢ Service worker cache

This cannot be undone. Continue?`)&&(s.destroyAllData(),a.value={clientId:"",clientSecret:"",region:"us",battletag:"",proxyUrl:s.proxyUrl,claudeApiKey:""},l.value="All data destroyed successfully",setTimeout(()=>{l.value=""},3e3))}return(p,t)=>(f(),c("form",{class:"api-key-form",onSubmit:B(w,["prevent"])},[e("div",T,[t[8]||(t[8]=e("label",{for:"clientId"},"Client ID",-1)),o(e("input",{id:"clientId","onUpdate:modelValue":t[0]||(t[0]=d=>a.value.clientId=d),type:"text",placeholder:"Enter your Battle.net Client ID",autocomplete:"off"},null,512),[[g,a.value.clientId]]),t[9]||(t[9]=e("p",{class:"form-help"},[y(" Get this from "),e("a",{href:"https://develop.battle.net/access/clients",target:"_blank",rel:"noopener"}," Battle.net Developer Portal ")],-1))]),e("div",E,[t[10]||(t[10]=e("label",{for:"clientSecret"},"Client Secret",-1)),e("div",R,[o(e("input",{id:"clientSecret","onUpdate:modelValue":t[1]||(t[1]=d=>a.value.clientSecret=d),type:i.value?"text":"password",placeholder:"Enter your Client Secret",autocomplete:"off"},null,8,$),[[A,a.value.clientSecret]]),e("button",{type:"button",class:"toggle-visibility",onClick:t[2]||(t[2]=d=>i.value=!i.value)},v(i.value?"Hide":"Show"),1)])]),e("div",L,[t[11]||(t[11]=e("label",{for:"battletag"},"BattleTag",-1)),o(e("input",{id:"battletag","onUpdate:modelValue":t[3]||(t[3]=d=>a.value.battletag=d),type:"text",placeholder:"Player#1234",autocomplete:"off"},null,512),[[g,a.value.battletag]]),a.value.battletag&&!b(a.value.battletag)?(f(),c("p",N," Invalid BattleTag format. Use format: Name#1234 ")):h("",!0)]),e("div",M,[t[13]||(t[13]=e("label",{for:"region"},"Region",-1)),o(e("select",{id:"region","onUpdate:modelValue":t[4]||(t[4]=d=>a.value.region=d)},[...t[12]||(t[12]=[e("option",{value:"us"},"Americas (US)",-1),e("option",{value:"eu"},"Europe (EU)",-1),e("option",{value:"kr"},"Korea (KR)",-1),e("option",{value:"tw"},"Taiwan (TW)",-1)])],512),[[K,a.value.region]])]),e("div",z,[t[14]||(t[14]=e("label",{for:"proxyUrl"},"Proxy URL",-1)),o(e("input",{id:"proxyUrl","onUpdate:modelValue":t[5]||(t[5]=d=>a.value.proxyUrl=d),type:"url",placeholder:"https://your-worker.workers.dev"},null,512),[[g,a.value.proxyUrl]]),t[15]||(t[15]=e("p",{class:"form-help"}," Cloudflare Worker URL for OAuth proxy (required for authentication) ",-1))]),t[20]||(t[20]=e("div",{class:"section-divider"},[e("h3",null,"AI Build Advisor (Optional)"),e("p",{class:"section-description"}," Enable AI-powered build suggestions using Claude ")],-1)),e("div",F,[t[16]||(t[16]=e("label",{for:"claudeApiKey"},"Claude API Key",-1)),e("div",W,[o(e("input",{id:"claudeApiKey","onUpdate:modelValue":t[6]||(t[6]=d=>a.value.claudeApiKey=d),type:r.value?"text":"password",placeholder:"sk-ant-api...",autocomplete:"off"},null,8,q),[[A,a.value.claudeApiKey]]),e("button",{type:"button",class:"toggle-visibility",onClick:t[7]||(t[7]=d=>r.value=!r.value)},v(r.value?"Hide":"Show"),1)]),t[17]||(t[17]=e("p",{class:"form-help"},[y(" Get your API key from "),e("a",{href:"https://console.anthropic.com/settings/keys",target:"_blank",rel:"noopener"}," Anthropic Console "),y(" - enables AI build recommendations ")],-1))]),l.value?(f(),c("div",{key:0,class:P(["form-message",{error:l.value.includes("Failed")}])},v(l.value),3)):h("",!0),e("div",G,[e("button",{type:"submit",class:"btn btn-primary",disabled:!m.value||u.value},v(u.value?"Saving...":"Save Settings"),9,O),e("button",{type:"button",class:"btn btn-secondary",onClick:C}," Clear Settings ")]),e("div",{class:"danger-zone"},[t[18]||(t[18]=e("h3",null,"Danger Zone",-1)),t[19]||(t[19]=e("p",null,"Permanently delete all local data including API keys, saved reports, and cached data.",-1)),e("button",{type:"button",class:"btn btn-danger",onClick:x}," Destroy All Data ")])],32))}}),Z=I(Y,[["__scopeId","data-v-659bcc24"]]),H={class:"settings-view"},j={class:"settings-content"},J={class:"settings-section"},Q={class:"card"},X=S({__name:"SettingsView",setup(k){return(s,a)=>(f(),c("div",H,[a[2]||(a[2]=e("div",{class:"settings-header"},[e("h1",null,"Settings"),e("p",{class:"description"}," Configure your Battle.net API credentials to access your Diablo III profile. ")],-1)),e("div",j,[e("section",J,[a[0]||(a[0]=e("div",{class:"section-header"},[e("h2",null,"API Configuration")],-1)),e("div",Q,[_(Z)])]),a[1]||(a[1]=V(`<section class="settings-section" data-v-4dfdd775><div class="section-header" data-v-4dfdd775><h2 data-v-4dfdd775>Setup Guide</h2></div><div class="card" data-v-4dfdd775><div class="setup-steps" data-v-4dfdd775><div class="step" data-v-4dfdd775><span class="step-number" data-v-4dfdd775>1</span><div class="step-content" data-v-4dfdd775><h4 data-v-4dfdd775>Create a Battle.net Developer Application</h4><p data-v-4dfdd775> Go to the <a href="https://develop.battle.net/access/clients" target="_blank" rel="noopener" data-v-4dfdd775> Battle.net Developer Portal </a> and create a new application. </p></div></div><div class="step" data-v-4dfdd775><span class="step-number" data-v-4dfdd775>2</span><div class="step-content" data-v-4dfdd775><h4 data-v-4dfdd775>Copy Your Credentials</h4><p data-v-4dfdd775> Copy the <strong data-v-4dfdd775>Client ID</strong> and <strong data-v-4dfdd775>Client Secret</strong> from your application and paste them above. </p></div></div><div class="step" data-v-4dfdd775><span class="step-number" data-v-4dfdd775>3</span><div class="step-content" data-v-4dfdd775><h4 data-v-4dfdd775>Deploy the OAuth Proxy</h4><p data-v-4dfdd775> Battle.net requires a server for OAuth. Deploy the included Cloudflare Worker and enter the URL above. </p><pre class="code-block" data-v-4dfdd775><code data-v-4dfdd775># Navigate to workers folder
cd dyerb/workers

# Install wrangler if needed
npm install -g wrangler

# Login to Cloudflare
wrangler login

# Deploy
npx wrangler deploy</code></pre><p class="note" data-v-4dfdd775> After deploy, you&#39;ll get a URL like: <code data-v-4dfdd775>https://dyerb-proxy.&lt;your-account&gt;.workers.dev</code></p></div></div><div class="step" data-v-4dfdd775><span class="step-number" data-v-4dfdd775>4</span><div class="step-content" data-v-4dfdd775><h4 data-v-4dfdd775>Make Your Profile Public</h4><p data-v-4dfdd775> In Battle.net account settings, ensure your Diablo III profile is set to public visibility. </p></div></div></div></div></section><section class="settings-section" data-v-4dfdd775><div class="section-header" data-v-4dfdd775><h2 data-v-4dfdd775>About</h2></div><div class="card" data-v-4dfdd775><p class="about-text" data-v-4dfdd775> DYERB (Do You Even Rift Bro?) fetches your Diablo III character gear via the Battle.net API and helps you find upgrade opportunities by comparing your equipped items against the complete item database. </p><div class="about-features" data-v-4dfdd775><div class="feature" data-v-4dfdd775><span class="feature-icon" data-v-4dfdd775>üìä</span><span data-v-4dfdd775>Analyze equipped gear</span></div><div class="feature" data-v-4dfdd775><span class="feature-icon" data-v-4dfdd775>üîç</span><span data-v-4dfdd775>Browse item database</span></div><div class="feature" data-v-4dfdd775><span class="feature-icon" data-v-4dfdd775>‚¨ÜÔ∏è</span><span data-v-4dfdd775>Find upgrade suggestions</span></div><div class="feature" data-v-4dfdd775><span class="feature-icon" data-v-4dfdd775>üì±</span><span data-v-4dfdd775>Works offline (PWA)</span></div></div></div></section>`,2))])]))}}),te=I(X,[["__scopeId","data-v-4dfdd775"]]);export{te as default};
