import{d as A,u as x,r as i,c as U,a as v,w as D,b as e,e as h,f as n,v as g,g as y,h as S,t as u,i as B,n as _,o as f,_ as I,j as K,k as V}from"./index-boeohUY1.js";const P={class:"form-group"},$={class:"form-group"},N={class:"input-with-toggle"},T=["type"],z={class:"form-group"},E={key:0,class:"form-error"},M={class:"form-group"},R={class:"form-group"},F={class:"form-group"},G={class:"input-with-toggle"},L=["type"],W={class:"form-actions"},q=["disabled"],O=A({__name:"ApiKeyForm",setup(w){const l=x(),a=i({clientId:l.clientId,clientSecret:l.clientSecret,region:l.region,battletag:l.battletag,proxyUrl:l.proxyUrl,claudeApiKey:l.claudeApiKey}),r=i(!1),d=i(!1),c=i(!1),o=i(""),m=U(()=>a.value.clientId.trim()!==""&&a.value.clientSecret.trim()!==""&&a.value.battletag.trim()!==""&&b(a.value.battletag));function b(p){return/^[a-zA-Z][a-zA-Z0-9]{2,11}[#\-]\d{4,8}$/.test(p)}async function k(){if(m.value){c.value=!0,o.value="";try{l.updateSettings({clientId:a.value.clientId.trim(),clientSecret:a.value.clientSecret.trim(),region:a.value.region,battletag:a.value.battletag.trim(),proxyUrl:a.value.proxyUrl.trim(),claudeApiKey:a.value.claudeApiKey.trim()}),o.value="Settings saved successfully!",setTimeout(()=>{o.value=""},3e3)}catch(p){o.value="Failed to save settings",console.error("Save error:",p)}finally{c.value=!1}}}function C(){confirm("Are you sure you want to clear all settings?")&&(l.clearSettings(),a.value={clientId:"",clientSecret:"",region:"us",battletag:"",proxyUrl:l.proxyUrl,claudeApiKey:""})}return(p,t)=>(f(),v("form",{class:"api-key-form",onSubmit:D(k,["prevent"])},[e("div",P,[t[8]||(t[8]=e("label",{for:"clientId"},"Client ID",-1)),n(e("input",{id:"clientId","onUpdate:modelValue":t[0]||(t[0]=s=>a.value.clientId=s),type:"text",placeholder:"Enter your Battle.net Client ID",autocomplete:"off"},null,512),[[g,a.value.clientId]]),t[9]||(t[9]=e("p",{class:"form-help"},[y(" Get this from "),e("a",{href:"https://develop.battle.net/access/clients",target:"_blank",rel:"noopener"}," Battle.net Developer Portal ")],-1))]),e("div",$,[t[10]||(t[10]=e("label",{for:"clientSecret"},"Client Secret",-1)),e("div",N,[n(e("input",{id:"clientSecret","onUpdate:modelValue":t[1]||(t[1]=s=>a.value.clientSecret=s),type:r.value?"text":"password",placeholder:"Enter your Client Secret",autocomplete:"off"},null,8,T),[[S,a.value.clientSecret]]),e("button",{type:"button",class:"toggle-visibility",onClick:t[2]||(t[2]=s=>r.value=!r.value)},u(r.value?"Hide":"Show"),1)])]),e("div",z,[t[11]||(t[11]=e("label",{for:"battletag"},"BattleTag",-1)),n(e("input",{id:"battletag","onUpdate:modelValue":t[3]||(t[3]=s=>a.value.battletag=s),type:"text",placeholder:"Player#1234",autocomplete:"off"},null,512),[[g,a.value.battletag]]),a.value.battletag&&!b(a.value.battletag)?(f(),v("p",E," Invalid BattleTag format. Use format: Name#1234 ")):h("",!0)]),e("div",M,[t[13]||(t[13]=e("label",{for:"region"},"Region",-1)),n(e("select",{id:"region","onUpdate:modelValue":t[4]||(t[4]=s=>a.value.region=s)},[...t[12]||(t[12]=[e("option",{value:"us"},"Americas (US)",-1),e("option",{value:"eu"},"Europe (EU)",-1),e("option",{value:"kr"},"Korea (KR)",-1),e("option",{value:"tw"},"Taiwan (TW)",-1)])],512),[[B,a.value.region]])]),e("div",R,[t[14]||(t[14]=e("label",{for:"proxyUrl"},"Proxy URL",-1)),n(e("input",{id:"proxyUrl","onUpdate:modelValue":t[5]||(t[5]=s=>a.value.proxyUrl=s),type:"url",placeholder:"https://your-worker.workers.dev"},null,512),[[g,a.value.proxyUrl]]),t[15]||(t[15]=e("p",{class:"form-help"}," Cloudflare Worker URL for OAuth proxy (required for authentication) ",-1))]),t[18]||(t[18]=e("div",{class:"section-divider"},[e("h3",null,"AI Build Advisor (Optional)"),e("p",{class:"section-description"}," Enable AI-powered build suggestions using Claude ")],-1)),e("div",F,[t[16]||(t[16]=e("label",{for:"claudeApiKey"},"Claude API Key",-1)),e("div",G,[n(e("input",{id:"claudeApiKey","onUpdate:modelValue":t[6]||(t[6]=s=>a.value.claudeApiKey=s),type:d.value?"text":"password",placeholder:"sk-ant-api...",autocomplete:"off"},null,8,L),[[S,a.value.claudeApiKey]]),e("button",{type:"button",class:"toggle-visibility",onClick:t[7]||(t[7]=s=>d.value=!d.value)},u(d.value?"Hide":"Show"),1)]),t[17]||(t[17]=e("p",{class:"form-help"},[y(" Get your API key from "),e("a",{href:"https://console.anthropic.com/settings/keys",target:"_blank",rel:"noopener"}," Anthropic Console "),y(" - enables AI build recommendations ")],-1))]),o.value?(f(),v("div",{key:0,class:_(["form-message",{error:o.value.includes("Failed")}])},u(o.value),3)):h("",!0),e("div",W,[e("button",{type:"submit",class:"btn btn-primary",disabled:!m.value||c.value},u(c.value?"Saving...":"Save Settings"),9,q),e("button",{type:"button",class:"btn btn-secondary",onClick:C}," Clear All ")])],32))}}),H=I(O,[["__scopeId","data-v-a9d1903d"]]),Y={class:"settings-view"},Z={class:"settings-content"},j={class:"settings-section"},J={class:"card"},Q=A({__name:"SettingsView",setup(w){return(l,a)=>(f(),v("div",Y,[a[2]||(a[2]=e("div",{class:"settings-header"},[e("h1",null,"Settings"),e("p",{class:"description"}," Configure your Battle.net API credentials to access your Diablo III profile. ")],-1)),e("div",Z,[e("section",j,[a[0]||(a[0]=e("div",{class:"section-header"},[e("h2",null,"API Configuration")],-1)),e("div",J,[V(H)])]),a[1]||(a[1]=K(`<section class="settings-section" data-v-e806c2f8><div class="section-header" data-v-e806c2f8><h2 data-v-e806c2f8>Setup Guide</h2></div><div class="card" data-v-e806c2f8><div class="setup-steps" data-v-e806c2f8><div class="step" data-v-e806c2f8><span class="step-number" data-v-e806c2f8>1</span><div class="step-content" data-v-e806c2f8><h4 data-v-e806c2f8>Create a Battle.net Developer Application</h4><p data-v-e806c2f8> Go to the <a href="https://develop.battle.net/access/clients" target="_blank" rel="noopener" data-v-e806c2f8> Battle.net Developer Portal </a> and create a new application. </p></div></div><div class="step" data-v-e806c2f8><span class="step-number" data-v-e806c2f8>2</span><div class="step-content" data-v-e806c2f8><h4 data-v-e806c2f8>Copy Your Credentials</h4><p data-v-e806c2f8> Copy the <strong data-v-e806c2f8>Client ID</strong> and <strong data-v-e806c2f8>Client Secret</strong> from your application and paste them above. </p></div></div><div class="step" data-v-e806c2f8><span class="step-number" data-v-e806c2f8>3</span><div class="step-content" data-v-e806c2f8><h4 data-v-e806c2f8>Deploy the OAuth Proxy</h4><p data-v-e806c2f8> Battle.net requires a server for OAuth. Deploy the included Cloudflare Worker and enter the URL above. </p><pre class="code-block" data-v-e806c2f8><code data-v-e806c2f8># Navigate to workers folder
cd d3-gear-analyzer/workers

# Install wrangler if needed
npm install -g wrangler

# Login to Cloudflare
wrangler login

# Deploy
npx wrangler deploy</code></pre><p class="note" data-v-e806c2f8> After deploy, you&#39;ll get a URL like: <code data-v-e806c2f8>https://d3-proxy.&lt;your-account&gt;.workers.dev</code></p></div></div><div class="step" data-v-e806c2f8><span class="step-number" data-v-e806c2f8>4</span><div class="step-content" data-v-e806c2f8><h4 data-v-e806c2f8>Make Your Profile Public</h4><p data-v-e806c2f8> In Battle.net account settings, ensure your Diablo III profile is set to public visibility. </p></div></div></div></div></section><section class="settings-section" data-v-e806c2f8><div class="section-header" data-v-e806c2f8><h2 data-v-e806c2f8>About</h2></div><div class="card" data-v-e806c2f8><p class="about-text" data-v-e806c2f8> D3 Gear Analyzer fetches your Diablo III character gear via the Battle.net API and helps you find upgrade opportunities by comparing your equipped items against the complete item database. </p><div class="about-features" data-v-e806c2f8><div class="feature" data-v-e806c2f8><span class="feature-icon" data-v-e806c2f8>ğŸ“Š</span><span data-v-e806c2f8>Analyze equipped gear</span></div><div class="feature" data-v-e806c2f8><span class="feature-icon" data-v-e806c2f8>ğŸ”</span><span data-v-e806c2f8>Browse item database</span></div><div class="feature" data-v-e806c2f8><span class="feature-icon" data-v-e806c2f8>â¬†ï¸</span><span data-v-e806c2f8>Find upgrade suggestions</span></div><div class="feature" data-v-e806c2f8><span class="feature-icon" data-v-e806c2f8>ğŸ“±</span><span data-v-e806c2f8>Works offline (PWA)</span></div></div></div></section>`,2))])]))}}),ee=I(Q,[["__scopeId","data-v-e806c2f8"]]);export{ee as default};
